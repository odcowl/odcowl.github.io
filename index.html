<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="wechat odcowl">
<meta property="og:type" content="website">
<meta property="og:title" content="odcowl的个人博客">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="odcowl的个人博客">
<meta property="og:description" content="wechat odcowl">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="odcowl">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>odcowl的个人博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">odcowl的个人博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">柴米油盐烟火气</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/about/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/08/11/C-PrimerPlus-4-3String%E7%B1%BB%E7%AE%80%E4%BB%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="odcowl">
      <meta itemprop="description" content="wechat odcowl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="odcowl的个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/11/C-PrimerPlus-4-3String%E7%B1%BB%E7%AE%80%E4%BB%8B/" class="post-title-link" itemprop="url">C++PrimerPlus_4.3String类简介</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-08-11 20:56:15 / 修改时间：21:39:36" itemprop="dateCreated datePublished" datetime="2021-08-11T20:56:15+08:00">2021-08-11</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C-%E8%87%AA%E5%AD%A6/" itemprop="url" rel="index"><span itemprop="name">C++自学</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="4-3-string-类简介">1. 4.3 string 类简介</h1><p>由文章开头的<code>#include &lt;string&gt;</code>使用string类</p>
<p>下面的例子比较了string和字符数组的一些相同点：</p>
<p>🌰 例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F;  main.cpp</span><br><span class="line">&#x2F;&#x2F;  strtype1</span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F;  Created by YujiaYANG on 2021&#x2F;8&#x2F;11.</span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line"></span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 旨在说明string对象与字符数组之间的一些相同点和不同点</span><br><span class="line">int main() &#123;</span><br><span class="line">    using namespace std;</span><br><span class="line">    char charr1[20];            &#x2F;&#x2F; create an empty array</span><br><span class="line">    char charr2[20] &#x3D; &quot;jaguar&quot;; &#x2F;&#x2F; create an initialized array</span><br><span class="line">    string str1;                &#x2F;&#x2F; create an empty string object</span><br><span class="line">    string str2 &#x3D; &quot;panther&quot;;    &#x2F;&#x2F; create an initialized string object</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; &quot;Enter a kind of feline: &quot;;</span><br><span class="line">    cin &gt;&gt; charr1; &#x2F;&#x2F; ocelot</span><br><span class="line">    cout &lt;&lt; &quot;Enter another kind of feline: &quot;;</span><br><span class="line">    cin &gt;&gt; str1; &#x2F;&#x2F;tiger</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; &quot;Here are some felines:\n&quot;;</span><br><span class="line">    cout &lt;&lt; charr1 &lt;&lt; &quot; &quot; &lt;&lt; charr2 &lt;&lt; &quot; &quot;</span><br><span class="line">    &lt;&lt; str1 &lt;&lt; &quot; &quot; &lt;&lt; str2 &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; &quot;The third letter in &quot; &lt;&lt; charr2 &lt;&lt; &quot; is &quot;</span><br><span class="line">    &lt;&lt; charr2[2] &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; &quot;The third letter in &quot; &lt;&lt; str2 &lt;&lt; &quot; is &quot;</span><br><span class="line">    &lt;&lt; str2[2] &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    return 0;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在很多方面，使用string对象方式与使用字符数组相同：</p>
<ul>
<li>可以使用C-风格字符串来初始化string对象</li>
<li>可以使用cin输入string</li>
<li>可以使用cout显示string</li>
<li>可以使用数组表示法访问存储在string对象中的字符</li>
</ul>
<p><strong>类的设计</strong>可以让程序自动处理string的大小</p>
<p>可以说char数组视为一组用于存储一个字符串中的char存储单元，而string类变量是一个表示字符串的实体。</p>
<h2 id="C-字符串初始化">1.1. C++字符串初始化</h2><p><code>string str1;</code> 创建一个长度为0的string对象，读取过程中可以自动调整<br><code>string str2 = &quot;panther&quot;;</code> 创建一个初始化了的string类对象<br><code>string str3 &#123;&quot;Hank&#39;s Fine Eats&quot;&#125;;</code> C-风格字符串string对象</p>
<h2 id="赋值，拼接和附加">1.2. 赋值，拼接和附加</h2><ul>
<li><p>string 可以赋值（数值不可）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string str1;</span><br><span class="line">string str2 &#x3D; &quot;jaguar&quot;;</span><br><span class="line">str1 &#x3D; str2; &#x2F;&#x2F; valid</span><br></pre></td></tr></table></figure>
</li>
<li><p>string类简化了字符串的合并操作（用+或者+=号）</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string str3;</span><br><span class="line">str3 &#x3D; str1 + str2; &#x2F;&#x2F; assign str3 the joined strings</span><br><span class="line">str1 +&#x3D; str2; &#x2F;&#x2F; add str2 to the end of str1</span><br></pre></td></tr></table></figure>
<h2 id="string类I-O">1.3. string类I/O</h2><p>针对char数组时：<br><code>cin.getline(char,20);</code> 需要标明数组的长度</p>
<p>针对string对象时：<br><code>getline(cin,str1);</code> 不需要标注string的长度</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
  
  




      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/08/11/C-PrimerPlus-4-2%E5%AD%97%E7%AC%A6%E4%B8%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="odcowl">
      <meta itemprop="description" content="wechat odcowl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="odcowl的个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/11/C-PrimerPlus-4-2%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="post-title-link" itemprop="url">C++PrimerPlus_4.2字符串</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-08-11 13:25:42 / 修改时间：20:54:01" itemprop="dateCreated datePublished" datetime="2021-08-11T13:25:42+08:00">2021-08-11</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C-%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">C++学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="4-2-字符串">1. 4.2 字符串</h1><p><strong>字符串</strong>是存储在内存的连续字节中的一系列字符。</p>
<p>C++处理字符串的方式有两种：</p>
<ol>
<li><p>来自C语言，常被称为C-风格字符串（C-sytle string)</p>
</li>
<li><p>给予string类库的方法</p>
</li>
</ol>
<h2 id="字符串常量">1.1. 字符串常量</h2><p>C-风格字符串具有一种特殊的性质：以空字符(null character)结尾，空字符被写作<code>\0</code>，其ASCII码为0，用来标记字符串的结尾。</p>
<p>🍑 例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">char dog[8] &#x3D; &#123;&#39;b&#39;,&#39;e&#39;,&#39;a&#39;,&#39;u&#39;,&#39;x&#39;,&#39;x&#39;,&#39; &#39;,&#39;I&#39;,&#39;I&#39;&#125;; &#x2F;&#x2F; 不是string字符串</span><br><span class="line">char cat[8] &#x3D; &#123;&#39;b&#39;,&#39;e&#39;,&#39;a&#39;,&#39;u&#39;,&#39;x&#39;,&#39;x&#39;,&#39; &#39;,&#39;I&#39;,&#39;\0&#39;&#125;; &#x2F;&#x2F; a string! 是字符串哦耶</span><br></pre></td></tr></table></figure></p>
<p>这两个都是char，但只有第二个数组是字符串（因为有\0空字符）。</p>
<p>有一种比cat写法更好的将<strong>字符数组</strong>初始化为<strong>字符串</strong>的方法，用引号“”即可。</p>
<p>这种字符串被称为字符串常量string constant(字符串常量）或string literal(字符串面值)；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">char bird[11] &#x3D; &quot;Mr.Cheeps&quot;; &#x2F;&#x2F; the \0 is understood</span><br><span class="line">char fish[] &#x3D; &quot;Bubbles&quot;; &#x2F;&#x2F; let the compiler count 让字符串计算</span><br></pre></td></tr></table></figure>
<ul>
<li><p>由引号括起来的字符串隐式地包括结尾的空字符，因此不显式的写出来。</p>
</li>
<li><p>应该确保数组足够大， 能够存储字符串中的所有字符，包括空字符。</p>
</li>
</ul>
<p>例子：<br><code>char tryee[2] = &#123;&#39;1&#39;,&#39;;&#39;,&#39;s&#39;&#125;;</code><br>错误提示：Excess elements in array initializer</p>
<ul>
<li>字符常量(如’S’)是字符串编码的简写表示，字符串常量（如”bonjour”）与其不能互换。’S’在ASCII系统上，是’83’的另外一种写法；但”S”就不是字符常量，他表示的是字符S+\0的组合。</li>
</ul>
<h2 id="拼接字符串常量">1.2. 拼接字符串常量</h2><p>🍑 例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; &quot;I&#39;d give my right arm to be&quot; &quot;a great violinist.\n&quot;;</span><br></pre></td></tr></table></figure>
<p>和下面表达的是等效的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; &quot;I&#39;d give my right ar&quot;</span><br><span class="line">&quot;m to be a great vionlinist.\n&quot;</span><br></pre></td></tr></table></figure></p>
<h2 id="在数组中使用字符串">1.3. 在数组中使用字符串</h2><p>下面的code里重点函数为</p>
<ol>
<li><p>strlen()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;cstring&gt;</span><br><span class="line"></span><br><span class="line">strlen(一个string) 可以返回string的长度</span><br></pre></td></tr></table></figure>
</li>
<li><p>截断一个string的操作</p>
</li>
</ol>
<p>在需要阶段的位置替换成’\0’</p>
<ol>
<li>sizeof()和strlen()的对比</li>
</ol>
<p>sizeof()运算符是指出整个数组的长度，空字符计算在内<br>strlen()运算符是指出存储在数组中的字符串的长度，即可见的字符，不计算空字符</p>
<p>完整代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cstring&gt; &#x2F;&#x2F;为了使用strlen()工具，来确定字符串的长度</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    using namespace std;</span><br><span class="line">    </span><br><span class="line">    const int Size &#x3D; 15;</span><br><span class="line">    char name1[Size]; &#x2F;&#x2F;创建一个空数组</span><br><span class="line">    char name2[Size] &#x3D; &quot;C++owboy&quot;; &#x2F;&#x2F;初始化数组name2</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; &quot;Howdy! I am &quot; &lt;&lt; name2;</span><br><span class="line">    cout &lt;&lt; &quot;! What&#39;s your name?\n&quot;;</span><br><span class="line">    </span><br><span class="line">    cin &gt;&gt; name1;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; &quot;Well, &quot; &lt;&lt; name1 &lt;&lt; &quot;, your name has &quot;;</span><br><span class="line">    cout &lt;&lt; strlen(name1) &lt;&lt; &quot; letters and is stored\n&quot;;</span><br><span class="line">    cout &lt;&lt; &quot;in an array of &quot; &lt;&lt; sizeof(name1) &lt;&lt; &quot; bytes.\n&quot;;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; &quot;Your initial is &quot; &lt;&lt; name1[0] &lt;&lt; &quot;.\n&quot;;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;这个操作就截断name2了</span><br><span class="line">    </span><br><span class="line">    name2[3] &#x3D; &#39;\0&#39;; &#x2F;&#x2F; set name2 to null character, name2[0],name2[1],name2[2] ...</span><br><span class="line">    cout &lt;&lt; &quot;Here are the first 3 characters of my name: &quot;;</span><br><span class="line">    cout &lt;&lt; name2 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="字符串输入">1.4. 字符串输入</h2><p>🍑 例子:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    using namespace std;</span><br><span class="line">    const int ArSize &#x3D; 20;</span><br><span class="line">    char name[ArSize];</span><br><span class="line">    char dessert[ArSize];</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; &quot;Enter your name: \n&quot;;</span><br><span class="line">    cin &gt;&gt; name;</span><br><span class="line">    cout &lt;&lt; &quot;Enter your favorite dessert: \n&quot;;</span><br><span class="line">    cin &gt;&gt; dessert;</span><br><span class="line">    cout &lt;&lt; &quot;I have some delicious &quot; &lt;&lt; dessert;</span><br><span class="line">    cout &lt;&lt; &quot; for you,&quot; &lt;&lt; name &lt;&lt; &quot;.\n&quot;;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>要注意的是cin输入的时候，cin使用空白（空格，制表符和换行符）来确定字符串结束的位置，这意味着cin在获取字符串输入时指读取一个单词。</p>
<p>⚠️ 假如输入一个名字Alicia Keys，在这个例子里名字就是Alicia，dessert就是keys，cin一次性得到了两个输入，之后就直接跳到最后一个cout了。</p>
<p>⚠️另外，ArSize的大小为20，如果输入的字符串大于20的长度，也不行哦</p>
<h2 id="每次读取一行字符串输入-——-面对行的输入">1.5. 每次读取一行字符串输入 —— 面对行的输入</h2><h3 id="getline-将丢弃换行符">1.5.1. getline()将丢弃换行符</h3><p>getline()将丢弃换行符，通过<strong>回车键</strong>确认输入结尾，可以使用方法<code>cin.getline()</code>。</p>
<p>该函数有两个参数：</p>
<ul>
<li>第一个参数存储输入行的数组的名称</li>
<li>第二个参数是要读取的字符数（如果这个参数是20，函数最多读取19个字符，最后一个存储空字符）</li>
</ul>
<h3 id="get-不丢弃换行符">1.5.2. get()不丢弃换行符</h3><p>get()的工作原理，参数和getline()类似，但get()不丢弃换行符，而是将其留在输入队列中。</p>
<p>但是不能用连续调用两次get()的方法如下：</p>
<p>🈲️</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cin.get(name,ArSize);</span><br><span class="line">cin.get(dessert,ArSize);</span><br></pre></td></tr></table></figure>
<p>🉑️采用下列做法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cin.get(name,ArSize);</span><br><span class="line">cin.get();</span><br><span class="line">cin.get(dessert,ArSize);</span><br></pre></td></tr></table></figure></p>
<p>🉑️也可以这样：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cin.get(name,ArSize).get(); &#x2F;&#x2F; concatenate member functions, read newline</span><br><span class="line">cin.get(dessert,ArSize);</span><br></pre></td></tr></table></figure></p>
<h2 id="混合输入字符和数字">1.6. 混合输入字符和数字</h2><p>混合输入数字和面向行的字符串会导致问题。</p>
<p>修改方法：</p>
<ol>
<li>第一种方法</li>
</ol>
<p>(cin &gt;&gt; year).get()</p>
<ol>
<li>第二种方法</li>
</ol>
<p>cin &gt;&gt; year;<br>cin.get();</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
  
  




      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/08/09/C-PrimerPlus-4-1%E6%95%B0%E7%BB%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="odcowl">
      <meta itemprop="description" content="wechat odcowl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="odcowl的个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/09/C-PrimerPlus-4-1%E6%95%B0%E7%BB%84/" class="post-title-link" itemprop="url">C++PrimerPlus_4.1数组</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-09 22:52:13" itemprop="dateCreated datePublished" datetime="2021-08-09T22:52:13+08:00">2021-08-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-10 00:35:03" itemprop="dateModified" datetime="2021-08-10T00:35:03+08:00">2021-08-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C-%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">C++学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="复合类型">1. 复合类型</h1><h2 id="4-1-数组">1.1. 4.1 数组</h2><p><code>数组(array)是一种数据格式，能够存储多个同类型的值</code>。</p>
<p>要创建数组，可使用声明语句，数组声明应指出以下三点：</p>
<ul>
<li>存储在每个元素中的<strong>值的类型</strong></li>
<li>数组名</li>
<li>数组中的元素数</li>
</ul>
<p>在C++中，可以通过修改简单变量的声明，添加中括号（其中包含元素的数目）来完成数组声明：<br><code>short months[12];</code><br>代表创建了一个名为months的数组，该数组有12个元素，每个元素都可以存储一个short类型的值。<br>可以归纳为：<code>typeName assayName[arraySize];</code></p>
<p><strong>arraySize</strong>必须是整数常数，或const值。arraySize不可以是变量。</p>
<p>🧾 程序清单4.1</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    using namespace std;</span><br><span class="line">    </span><br><span class="line">    int yams[3]; // initialize int array with size of 3 elements</span><br><span class="line">    yams[0] = 7; // assign value to the first element of yams</span><br><span class="line">    yams[1] = 8;</span><br><span class="line">    yams[2] = 6;</span><br><span class="line">    </span><br><span class="line">    // another way to initialize and assgin values to an array of integers</span><br><span class="line">    int yamcosts[3] = &#123;20,30,5&#125;; // 注意这里是大括号！！不是中括号！！</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Total yams = &quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">yams[0] + yams</span>[1] + yams[2] &lt;&lt; <span class="string">endl;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    cout &lt;&lt; &quot;The package with &quot; &lt;&lt; yams[1] &lt;&lt; &quot; yams costs &quot;;</span></span><br><span class="line"><span class="string">    cout &lt;&lt; yamcosts[1] &lt;&lt; &quot; cents per yam.\n&quot;;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    int total = yams[0]*yamcosts[0] + yams[1]*yamcosts[1];</span></span><br><span class="line"><span class="string">    total = total + yams[2]*yamcosts[2];</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    cout &lt;&lt; &quot;The total yam expense is &quot; &lt;&lt; total &lt;&lt; &quot; cents.\n&quot;;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    // 显示array的长度，显示array中一个element的长度</span></span><br><span class="line"><span class="string">    cout &lt;&lt; &quot;Size of yams array = &quot; &lt;&lt; sizeof yams &lt;&lt; &quot; bytes. \n&quot;;</span></span><br><span class="line"><span class="string">    cout &lt;&lt; &quot;Size of one element &quot; &lt;&lt; sizeof yams[0] &lt;&lt; &quot; bytes. \n&quot;;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    return 0;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="数组的初始化规则">1.1.1. 数组的初始化规则</h3><ol>
<li><p>只有在定义的时候才可以使用初始化，此后就不能使用了，例如:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int cards[3] &#x3D; &#123;1,2,3&#125;; &#x2F;&#x2F; valid</span><br><span class="line">int hands[4];</span><br><span class="line">hands[4] &#x3D; &#123;1,2,3,4&#125; &#x2F;&#x2F; non-valid</span><br></pre></td></tr></table></figure>
</li>
<li><p>不可以将一个数组赋给另一个数组：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hands &#x3D; cards; &#x2F;&#x2F; not allowed</span><br></pre></td></tr></table></figure>
</li>
<li><p>可以使用下标分别给数组中的元素赋值</p>
</li>
<li><p>初始化数组的时候，提供的值可以少于数组的元素数目。下面的语句只初始化hotelTips的前两个元素：<br><code>float hotelTips[5] = &#123;5.0, 2.5&#125;;</code></p>
</li>
</ol>
<p>如果只对数组的一部分初始化，编译器将自动把其他元素设置为0。</p>
<p>因此，如果想把数组中所有元素都初始化为0非常简单，只需要把第一个元素初始化为0即可。<br><code>long totals[5000] = &#123;0&#125;;</code></p>
<ol>
<li>如果初始化数组时方括号内[]为0，那么C++编译器将计算元素的个数。<br>例如，对于：<br><code>short things[] = &#123;1,5,3,8&#125;;</code>编译器使things数组包含4个元素。</li>
</ol>
<h3 id="C-11-数组初始化方法">1.1.2. C++11 数组初始化方法</h3><ol>
<li><p>初始化数组时，可省略等号(=)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">double earning[4]&#123;1.2,1.2,1.2,1.2&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>可以不在大括号内包含任何内容，这将把所有元素都设置为零。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">unsigned int counts[10] &#x3D; &#123;&#125;; &#x2F;&#x2F; all elements set to 0</span><br><span class="line">float balances[100] &#x3D; &#123;&#125;; &#x2F;&#x2F; all elements set to 0</span><br></pre></td></tr></table></figure>
</li>
<li><p>列表初始化禁止缩窄转换<br><code>long plifs[] = &#123;25,92,1.0&#125;; // not allowed</code><br>这条语句不能通过是因为，浮点数转换为整型(long)是<strong>缩窄操作</strong>，即便浮点数小数点后为零。</p>
</li>
</ol>
<p><code>char slifs[4]&#123;&#39;h&#39;,&#39;i&#39;,1122011,&#39;\0&#39;&#125;; // not allowed</code><br>这条语句不能通过，因为1122011超过了char变量的取值范围</p>
<p><code>char tlifs[4]&#123;&#39;h&#39;,&#39;i&#39;,112,&#39;\0&#39;&#125;; // allowed</code><br>这条语句可以通过编译，因为虽然112是一个int值，但它在char变量的取值范围内</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
  
  




      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/08/09/C-PrimerPlus-3-2%E8%BF%90%E7%AE%97%E7%AC%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="odcowl">
      <meta itemprop="description" content="wechat odcowl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="odcowl的个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/09/C-PrimerPlus-3-2%E8%BF%90%E7%AE%97%E7%AC%A6/" class="post-title-link" itemprop="url">C++PrimerPlus_3.2运算符和类型转换</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-08-09 12:37:37 / 修改时间：22:52:53" itemprop="dateCreated datePublished" datetime="2021-08-09T12:37:37+08:00">2021-08-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C-%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">C++学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="C-数学运算符">1. C++ 数学运算符</h1><h2 id="5种基本的C-运算符">1.1. 5种基本的C++运算符</h2><ul>
<li><ul>
<li>加法运算</li>
</ul>
</li>
<li><ul>
<li>减法运算</li>
</ul>
</li>
<li><ul>
<li>乘法运算</li>
</ul>
</li>
<li>/ 除法运算（如果两个操作数都是整数，则执行整数除法，小数部分将被丢弃，结果为整数；如果有1个（或2个）操作数是浮点数，则小数部分将被保留，结果为浮点数）</li>
<li>% 求模。两个操作数必须都为整数</li>
</ul>
<h2 id="类型转换">1.2. 类型转换</h2><h3 id="初始化和赋值进行的转换">1.2.1. 初始化和赋值进行的转换</h3><p>C++允许将一种类型的值赋给另一种类型的变量，这样做时，<strong>值将被转换为接受变量的类型</strong>。</p>
<p>🍑 例子：</p>
<p>假设so_long的类型为long，thirty的类型为short，而程序为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">so_long &#x3D; thirty; </span><br></pre></td></tr></table></figure><br>程序将thirty的值（short）扩展为long值，so_long将储存这个值，而thirty不变。</p>
<hr>
<p>将一个值赋给取值范围更大的类型通常不会产生问题，反之，则会降低精度；</p>
<p>下面列出了<strong>潜在的问题</strong>：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">转换</th>
<th style="text-align:center">潜在的问题</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">将较大浮点类型转换为较小的浮点类型，如将double转换为float</td>
<td style="text-align:center">精度有效数位丢失</td>
</tr>
<tr>
<td style="text-align:center">将浮点转整数</td>
<td style="text-align:center">小数部分丢失</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>将0赋给bool变量时，将被转换为false；而非零值将被转换为true；</li>
</ul>
<h3 id="以-方式初始化时进行的转换">1.2.2. 以{}方式初始化时进行的转换</h3><h3 id="表达式中的转换">1.2.3. 表达式中的转换</h3><h3 id="传递参数时的转换">1.2.4. 传递参数时的转换</h3><h3 id="强制类型转换">1.2.5. 强制类型转换</h3><h3 id="C-11-中的auto声明">1.2.6. C++ 11 中的auto声明</h3><p>auto声明让编译器能够根据初始值的类型推断变量的类型。如果使用了关键字auto，而不指定变量的类型，编译器将把变量的类型设置与初始值相同。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">auto n &#x3D; 100; &#x2F;&#x2F; n is int</span><br><span class="line">auto x &#x3D; 1.5; &#x2F;&#x2F; x is double（疑问：这里x也可以是float吗）</span><br><span class="line">auto y &#x3D; 1.3e12L &#x2F;&#x2F; y is long double</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
  
  




      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/08/09/C-PrimerPlus-3-1%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="odcowl">
      <meta itemprop="description" content="wechat odcowl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="odcowl的个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/09/C-PrimerPlus-3-1%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="post-title-link" itemprop="url">C++PrimerPlus_3.1数据类型</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-08-09 11:44:27 / 修改时间：22:53:15" itemprop="dateCreated datePublished" datetime="2021-08-09T11:44:27+08:00">2021-08-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C-%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">C++学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="C-数据类型：整型，bool，char和浮点型">1. C++数据类型：整型，bool，char和浮点型</h1><h2 id="整型">1.1. 整型</h2><p><strong>C++内置的整型</strong> —— unsigned long, long, unsigned int, int, unsigned short, short, char, unsigned char, signed char, bool 和 unsigned long long, long long (C++ 11新增)</p>
<h3 id="整型short-int-long-和-long-long">1.1.1. 整型short, int, long 和 long long</h3><p>计算机内存由一些叫做位(bit)的单元组成，C++的short, int, long和long long分别用<code>不同数目的位</code>来储存值，最多能够表示4种不同的整数宽度。</p>
<p>如果在所有的系统中，<code>每种类型的宽度都相同</code>，则使用起来十分方便。例如，short总是16位，int总是32位，<strong>但生活并非那么简单</strong>，C++提供了另一种灵活的标准：</p>
<ul>
<li>short 至少16位(2 bytes.)</li>
<li>int 至少与short一样长(4 bytes.)</li>
<li>long 至少32位，且至少与int一样长 (8 bytes.)</li>
<li>long long 至少64位，且至少与long一样长 (8 bytes.)</li>
</ul>
<h3 id="无符号类型-unsigned">1.1.2. 无符号类型 unsigned</h3><p><strong>unsigned 是unsigned int的缩写</strong></p>
<p>如果short表示的范围为-32768到+32767，则无符号版本的表示范围为0-65535，当然，仅当数值不会为负时才应使用无符号类型，如人口等。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">unsigned short change;</span><br><span class="line">unsigned int rovert;</span><br><span class="line">unsigned rovertt; &#x2F;&#x2F; also unsigned int</span><br><span class="line">unsigned long gone;</span><br><span class="line">unsigned long long lang_lang;</span><br></pre></td></tr></table></figure>
<h3 id="整数字面型（进制问题）">1.1.3. 整数字面型（进制问题）</h3><p>C++ 使用前一（两）位来标识数字常量的基数。</p>
<ul>
<li>如果<strong>第一位为1 —— 9</strong> 则<code>基数为10（十进制）</code></li>
<li>如果<strong>第一位是0，第二位为1——7</strong>，则<code>基数为8（八进制）</code></li>
<li>如果<strong>前两位为0x或0X</strong>，则<code>基数为16（十六进制）</code></li>
</ul>
<p>pseudo code如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">int chest &#x3D; 42;     &#x2F;&#x2F; decimal integer literal 十进制</span><br><span class="line">int waist &#x3D; 0x42;   &#x2F;&#x2F; hexadecimal integer literal 十六进制</span><br><span class="line">int inseam &#x3D; 042; &#x2F;&#x2F; octal interger literal 八进制</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 在cout输出下：</span><br><span class="line"></span><br><span class="line">chest &#x3D; 42 (42 in decimal)</span><br><span class="line">waist &#x3D; 66 (0x42 in hex)</span><br><span class="line">inseam &#x3D; 34 (042 in octal)</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h3 id="char类型：字符和小整数">1.1.4. char类型：字符和小整数</h3><p><code>char类型</code>是专门为储存字符（如字母和数字）而设计的。char类型也是一种整型，它足够长，能够表示目标计算机系统中的所有基本符号——字母，数字和标点符号等。char最常被用来处理字符，但也可以将它比作比short更小的整型。</p>
<p>最常用的符号集为ASCII字符集。<br>例如字符A的编码为65，字母M的编码为77等。</p>
<p>cin输入时，cin将键盘中输入的M转换为77；输出时，cout将77转换为所显示的字符M；cin和cout的行为都是由变量类型（ch）引导的。</p>
<p>C++对字符用单引号<code>&#39;M&#39;</code>对字符串用双引号。</p>
<p><code>cout.put()</code>为成员函数，提供了一个显示字符的方法，可以代替<code>cout &lt;&lt;</code></p>
<p>⚠️ <strong> 注意是字符而非字符串 </strong></p>
<p>亲测<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cout.put(&#39;M&#39;); &#x2F;&#x2F; valid</span><br><span class="line">cout.put(&#39;My&#39;); &#x2F;&#x2F; non valid</span><br><span class="line">cout.put(&quot;My bag&quot;); &#x2F;&#x2F; non valid</span><br></pre></td></tr></table></figure></p>
<h3 id="C-转义序列的编码">1.1.5. C++转义序列的编码</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">字符名称</th>
<th>C++代码</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">换行符</td>
<td>\n</td>
</tr>
<tr>
<td style="text-align:left">退格</td>
<td>\n</td>
</tr>
<tr>
<td style="text-align:left">回车</td>
<td>\r</td>
</tr>
<tr>
<td style="text-align:left">反斜杠</td>
<td>\\</td>
</tr>
<tr>
<td style="text-align:left">问号</td>
<td>\?</td>
</tr>
<tr>
<td style="text-align:left">单引号</td>
<td>\’</td>
</tr>
<tr>
<td style="text-align:left">双引号</td>
<td>\”</td>
</tr>
</tbody>
</table>
</div>
<h3 id="bool-类型">1.1.6. bool 类型</h3><p>bool布尔变量的值可以是true或false<br>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bool is_ready &#x3D; true;</span><br></pre></td></tr></table></figure></p>
<h2 id="const-限定符">1.2. const 限定符</h2><p>如果程序在多个地方使用相同的一个<strong>常量</strong>时，可用<code>const</code>来修改变量声明和初始化。<br>例如，表示一年中月份的符号常量：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const int Months &#x3D; 12;</span><br></pre></td></tr></table></figure><br><code>常量Months</code>被初始化后，其值就被固定了，编译器将不允许再修改该常量的值。</p>
<p>一种常见的做法是<code>常量的首字母大写</code>如<strong>Months</strong>，有助于区分<strong>常量</strong>和<strong>变量</strong>。另外一种做法是<code>以字母k打头</code>如<strong>kmonths</strong></p>
<h2 id="浮点数">1.3. 浮点数</h2><p>C++有3种浮点类型：float，double和long double。</p>
<p>浮点数能够表示带小数部分的数字，诸如2.5，3.14159，122442.32这样的数字。</p>
<p><strong>计算机</strong>将这样的值分成两部分存储。<code>一部分表示值，另一部分用于对值进行放大或缩小。</code></p>
<p>打个比方，对于数字34.1245和34124.5，他们除了小数点位置不同，其他事相同的。</p>
<p>可以把第一个数表示为0.341245（基准值）和100（缩放因子）；第二个数0.341245（基准值）和10000（缩放因子）。</p>
<p><code>缩放因子</code>的作用是移动小数点的位置，术语<code>浮点</code>也因此得名。</p>
<p><strong>C++</strong>内部表示浮点数的方法与此相同，只不过它基于的是二进制数，因此缩放因子是2的幂，不是10的幂。</p>
<h3 id="浮点数的表示法">1.3.1. 浮点数的表示法</h3><ul>
<li><strong>第一种</strong> 是使用常用的标准小数点表示法：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">12.34</span><br><span class="line">0.00023</span><br><span class="line">8.0 &#x2F;&#x2F; 保证了是float而非int</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>第二种</strong> 是使用E表示法<br>其外观类似3.45E6，意思是3.45与1000000相乘的结果；E6指的是10的6次方。<br>E表示法确定数字以浮点格式存储，即使没有小数点。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2.52e+8 &#x2F;&#x2F; valid</span><br><span class="line">8.33E5 &#x2F;&#x2F; valid</span><br><span class="line">8.33E-4 &#x2F;&#x2F; valid, exponent can be negative</span><br></pre></td></tr></table></figure>
<h3 id="浮点的类型float，double和long-double">1.3.2. 浮点的类型float，double和long double</h3><p>浮点数的三种类型是按<code>它们可以表示的有效数位和允许的指数最小范围</code>来描述的。</p>
<p><strong>有效位(significant figure)</strong>是指数字中有意义的位，</p>
<p>🍑 例如：</p>
<p>某山脉额高度位14179英尺，该数字使用了5个有效位。</p>
<p>然而，将其高度写成约14000英尺时，其有效数位为2。因为结果进行了四舍五入精确到了千位。这种情况下，其余的3位仅仅为占位符。</p>
<p>有效数位不依赖于小数点的位置。</p>
<p>例如，可以将山脉高度写为14.162千英尺，这样仍然是5个有效位。</p>
<hr>
<p>C++对于有效位数的要求是：</p>
<ul>
<li>float 至少32位</li>
<li>double至少48位，且不少月float</li>
<li>long double至少和double一样多</li>
</ul>
<p>但通常：</p>
<ul>
<li>float为32位</li>
<li>double为64位</li>
<li>long double为80，96或128位</li>
</ul>
<p>书本p48页提供了一个例子说明了double比float提供的精度更高。</p>
<figure class="highlight plain"><figcaption><span><iostream></iostream></span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    using namespace std; </span><br><span class="line">    cout.setf(ios_base::fixed, ios_base::floatfield); &#x2F;&#x2F; fixed-point</span><br><span class="line">    float tub &#x3D; 10.0 &#x2F; 3.0;     &#x2F;&#x2F; good to about 6 places</span><br><span class="line">    double mint &#x3D; 10.0 &#x2F; 3.0;   &#x2F;&#x2F; good to about 15 places</span><br><span class="line">    const float million &#x3D; 1.0e6;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; &quot;tub &#x3D; &quot; &lt;&lt; tub;</span><br><span class="line">    cout &lt;&lt; &quot;, a million tubs &#x3D; &quot; &lt;&lt; million * tub;</span><br><span class="line">    cout &lt;&lt; &quot;,\nand ten million tubs &#x3D; &quot;;</span><br><span class="line">    cout &lt;&lt; 10 * million * tub &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; &quot;mint &#x3D; &quot; &lt;&lt; mint &lt;&lt; &quot; and a million mints &#x3D; &quot;;</span><br><span class="line">    cout &lt;&lt; million * mint &lt;&lt; endl;</span><br><span class="line">    &#x2F;&#x2F; cin.get();</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="浮点常量">1.3.2.1. 浮点常量</h4><p>在程序中书写副电厂粮食，像8.24或2.4E8这样的浮点都属于double类型。</p>
<p>如果你希望常量为float类型，请使用f或F后缀。</p>
<p>如果你希望常量为long double类型，可使用l或L后缀（由于l看起来很像数字1，因此L位更好的选择）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.234f &#x2F;&#x2F; a float constsant</span><br><span class="line">2.3423 &#x2F;&#x2F; a double constant</span><br><span class="line">2.2L &#x2F;&#x2F; a long double constant</span><br></pre></td></tr></table></figure>
<h4 id="浮点和整数的对比">1.3.2.2. 浮点和整数的对比</h4><ul>
<li>浮点优点：浮点可以表示整数</li>
<li>浮点优点：由于有缩放因子，他们可以表示的范围大的多</li>
<li>浮点缺点：浮点运算速度比整数运算速度慢，其精度降低</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
  
  




      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/03/451-%E6%A0%B9%E6%8D%AE%E5%AD%97%E7%AC%A6%E5%87%BA%E7%8E%B0%E9%A2%91%E7%8E%87%E6%8E%92%E5%BA%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="odcowl">
      <meta itemprop="description" content="wechat odcowl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="odcowl的个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/03/451-%E6%A0%B9%E6%8D%AE%E5%AD%97%E7%AC%A6%E5%87%BA%E7%8E%B0%E9%A2%91%E7%8E%87%E6%8E%92%E5%BA%8F/" class="post-title-link" itemprop="url">451.根据字符出现频率排序</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-07-03 15:52:26 / 修改时间：21:56:42" itemprop="dateCreated datePublished" datetime="2021-07-03T15:52:26+08:00">2021-07-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>LeetCode每日一题之<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/sort-characters-by-frequency/">451.根据字符出现频率排序</a>。</p>
<p>今天这题比较简单，周六愉快</p>
<p>给定一个字符串，请将字符串里的字符按照出现的频率降序排列。</p>
<h3 id="题目">0.0.1. 题目</h3><p>示例 1:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">输入:</span><br><span class="line"><span class="string">&quot;tree&quot;</span></span><br><span class="line"></span><br><span class="line">输出:</span><br><span class="line"><span class="string">&quot;eert&quot;</span></span><br><span class="line"></span><br><span class="line">解释:</span><br><span class="line"><span class="string">&#x27;e&#x27;</span>出现两次，<span class="string">&#x27;r&#x27;</span>和<span class="string">&#x27;t&#x27;</span>都只出现一次。</span><br><span class="line">因此<span class="string">&#x27;e&#x27;</span>必须出现在<span class="string">&#x27;r&#x27;</span>和<span class="string">&#x27;t&#x27;</span>之前。此外，<span class="string">&quot;eetr&quot;</span>也是一个有效的答案。</span><br></pre></td></tr></table></figure></p>
<p>示例 2:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">输入:</span><br><span class="line"><span class="string">&quot;cccaaa&quot;</span></span><br><span class="line"></span><br><span class="line">输出:</span><br><span class="line"><span class="string">&quot;cccaaa&quot;</span></span><br><span class="line"></span><br><span class="line">解释:</span><br><span class="line"><span class="string">&#x27;c&#x27;</span>和<span class="string">&#x27;a&#x27;</span>都出现三次。此外，<span class="string">&quot;aaaccc&quot;</span>也是有效的答案。</span><br><span class="line">注意<span class="string">&quot;cacaca&quot;</span>是不正确的，因为相同的字母必须放在一起。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>示例 3:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">输入:</span><br><span class="line"><span class="string">&quot;Aabb&quot;</span></span><br><span class="line"></span><br><span class="line">输出:</span><br><span class="line"><span class="string">&quot;bbAa&quot;</span></span><br><span class="line"></span><br><span class="line">解释:</span><br><span class="line">此外，<span class="string">&quot;bbaA&quot;</span>也是一个有效的答案，但<span class="string">&quot;Aabb&quot;</span>是不正确的。</span><br><span class="line">注意<span class="string">&#x27;A&#x27;</span>和<span class="string">&#x27;a&#x27;</span>被认为是两种不同的字符。</span><br></pre></td></tr></table></figure>
<h3 id="我的解法">0.0.2. 我的解法</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">class Solution(object):</span><br><span class="line">    def frequencySort(self, s):</span><br><span class="line">        <span class="string">&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        &quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 哈希表</span></span><br><span class="line">        d = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> ch <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> not ch <span class="keyword">in</span> d:</span><br><span class="line">                d[ch] = 1</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                d[ch] += 1</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 把字典按value的大小从大到小排序</span></span><br><span class="line">        a = sorted(d.items(), key=lambda x: x[1], reverse=True)</span><br><span class="line">        </span><br><span class="line">        res = <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="keyword">for</span> aa <span class="keyword">in</span> a:</span><br><span class="line">            <span class="comment"># 小坑：出现多次的字母需要+=多次</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(aa[1]):</span><br><span class="line">                res += str(aa[0])</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>但是因为相当于最多遍历了两次字典，时间还是比较慢的<br>平平无奇小代码吧。。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
  
  




      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/18/1239-%E4%B8%B2%E8%81%94%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%9C%80%E5%A4%A7%E9%95%BF%E5%BA%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="odcowl">
      <meta itemprop="description" content="wechat odcowl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="odcowl的个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/18/1239-%E4%B8%B2%E8%81%94%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%9C%80%E5%A4%A7%E9%95%BF%E5%BA%A6/" class="post-title-link" itemprop="url">1239.串联字符串的最大长度</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-18 19:31:53" itemprop="dateCreated datePublished" datetime="2021-06-18T19:31:53+08:00">2021-06-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-06-19 02:33:25" itemprop="dateModified" datetime="2021-06-19T02:33:25+08:00">2021-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>LeetCode每日一题之<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/maximum-length-of-a-concatenated-string-with-unique-characters/">串联字符串的最大长度</a>.<br>难度：中等</p>
<h3 id="题目">0.0.1. 题目</h3><p>给定一个字符串数组<code>arr</code>，字符串<code>s</code>是将<code>arr</code>某一子序列字符串连接所得的字符串，如果<code>s</code>中的每一个字符都只出现过一次，那么它就是一个可行解。</p>
<p>请返回所有可行解<code>s</code>中最长长度。</p>
<p>示例 1：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：arr = [<span class="string">&quot;un&quot;</span>,<span class="string">&quot;iq&quot;</span>,<span class="string">&quot;ue&quot;</span>]</span><br><span class="line">输出：4</span><br><span class="line">解释：所有可能的串联组合是 <span class="string">&quot;&quot;</span>,<span class="string">&quot;un&quot;</span>,<span class="string">&quot;iq&quot;</span>,<span class="string">&quot;ue&quot;</span>,<span class="string">&quot;uniq&quot;</span> 和 <span class="string">&quot;ique&quot;</span>，最大长度为 4。</span><br></pre></td></tr></table></figure></p>
<p>示例 2：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：arr = [<span class="string">&quot;cha&quot;</span>,<span class="string">&quot;r&quot;</span>,<span class="string">&quot;act&quot;</span>,<span class="string">&quot;ers&quot;</span>]</span><br><span class="line">输出：6</span><br><span class="line">解释：可能的解答有 <span class="string">&quot;chaers&quot;</span> 和 <span class="string">&quot;acters&quot;</span>。</span><br></pre></td></tr></table></figure></p>
<p>示例 3：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：arr &#x3D; [&quot;abcdefghijklmnopqrstuvwxyz&quot;]</span><br><span class="line">输出：26</span><br></pre></td></tr></table></figure></p>
<p>提示：</p>
<p>1 &lt;= arr.length &lt;= 16<br>1 &lt;= arr[i].length &lt;= 26<br>arr[i] 中只含有小写英文字母</p>
<h3 id="我的解法-79-85">0.0.2. 我的解法(79/85)</h3><p>很遗憾。。。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">class Solution(object):</span><br><span class="line">    def maxLength(self, arr):</span><br><span class="line">        <span class="string">&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        :type arr: List[str]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        &quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> not arr:</span><br><span class="line">            <span class="built_in">return</span> 0</span><br><span class="line">        <span class="keyword">if</span> len(arr) == 1:</span><br><span class="line">            <span class="built_in">return</span> len(arr[0])</span><br><span class="line"></span><br><span class="line">        n = len(arr)</span><br><span class="line">        max_ = 0</span><br><span class="line">        act = <span class="string">&quot;&quot;</span></span><br><span class="line">        def isAppeared(str1,str2):</span><br><span class="line">            <span class="keyword">if</span> len(str1) &gt; len(str2):</span><br><span class="line">                str1, str2 = str2, str1</span><br><span class="line">            <span class="keyword">for</span> ch <span class="keyword">in</span> str1:</span><br><span class="line">                <span class="keyword">if</span> ch <span class="keyword">in</span> str2:</span><br><span class="line">                    <span class="built_in">return</span> True</span><br><span class="line">            <span class="built_in">return</span> False</span><br><span class="line">        def isPure(str1):</span><br><span class="line">            <span class="keyword">if</span> len(str1) == len(<span class="built_in">set</span>(str1)):</span><br><span class="line">                <span class="built_in">return</span> True</span><br><span class="line">            <span class="built_in">return</span> False</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">if</span> isPure(arr[i]):</span><br><span class="line">                max_ = max(max_,len(arr[i]))</span><br><span class="line">                act = arr[i]</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(i+1,n):</span><br><span class="line">                <span class="keyword">if</span> not isAppeared(act,arr[j]) and isPure(arr[j]):</span><br><span class="line">                    act = act + arr[j]</span><br><span class="line">                    max_ = max(max_,len(act))</span><br><span class="line">        <span class="built_in">return</span> max_</span><br></pre></td></tr></table></figure>
<h3 id="好的解法">0.0.3. 好的解法</h3><p>参考:<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/maximum-length-of-a-concatenated-string-with-unique-characters/solution/python-zhi-bai-po-su-de-01bei-bao-by-qub-8441/">benhao</a></p>
<h4 id="直白质朴法">0.0.3.1. 直白质朴法</h4><p>我的思路总体和这个是一致的<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def maxLength(self, arr: List[str]) -&gt; int:</span><br><span class="line">        def validStr(string):</span><br><span class="line">            <span class="built_in">return</span> len(<span class="built_in">set</span>(string)) == len(string)</span><br><span class="line">        </span><br><span class="line">        dp = []</span><br><span class="line">        <span class="keyword">for</span> s <span class="keyword">in</span> arr:</span><br><span class="line">            <span class="keyword">if</span> not validStr(s):</span><br><span class="line">                <span class="built_in">continue</span></span><br><span class="line">            <span class="keyword">for</span> s_ <span class="keyword">in</span> dp:</span><br><span class="line">                <span class="keyword">if</span> validStr(s_ + s):</span><br><span class="line">                    dp.append(s_ + s)</span><br><span class="line">            dp.append(s)</span><br><span class="line">        <span class="built_in">return</span> len(max(dp,key=len)) <span class="keyword">if</span> dp <span class="keyword">else</span> 0</span><br></pre></td></tr></table></figure></p>
<h3 id>0.0.4.  </h3><h3 id="回溯法">0.0.5. 回溯法</h3><p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/maximum-length-of-a-concatenated-string-with-unique-characters/solution/hui-su-di-gui-shi-xian-wu-you-hua-by-nan-feng-14/">NoBug</a></p>
<p>回溯算法，采用递归实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class Solution():</span><br><span class="line">    def maxLength(self, arr):</span><br><span class="line"></span><br><span class="line">        t &#x3D; []</span><br><span class="line">        for s in arr:</span><br><span class="line">            if len(set(s)) &#x3D;&#x3D; len(s):</span><br><span class="line">                t.append(s)</span><br><span class="line">        arr &#x3D; t[:]</span><br><span class="line"></span><br><span class="line">        def dfs(i, tmp):</span><br><span class="line"></span><br><span class="line">            if i &gt;&#x3D; len(arr):</span><br><span class="line">                return len(tmp)</span><br><span class="line">            else:</span><br><span class="line">                if not (set(tmp) &amp; set(arr[i])):</span><br><span class="line">                    return max(dfs(i+1,tmp+arr[i]),dfs(i+1,tmp))</span><br><span class="line">                else:</span><br><span class="line">                    return dfs(i + 1, tmp)</span><br><span class="line"></span><br><span class="line">        l&#x3D;dfs(0,&#39;&#39;)</span><br><span class="line">        return l</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
  
  




      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/08/%E9%9F%B3%E9%A2%91%E5%89%8D%E5%A4%84%E7%90%86%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="odcowl">
      <meta itemprop="description" content="wechat odcowl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="odcowl的个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/08/%E9%9F%B3%E9%A2%91%E5%89%8D%E5%A4%84%E7%90%86%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/" class="post-title-link" itemprop="url">转载:音频处理基本概念</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-06-08 16:17:28 / 修改时间：22:30:56" itemprop="dateCreated datePublished" datetime="2021-06-08T16:17:28+08:00">2021-06-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">信号处理</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>转载自：<br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/28dd7f1e58d0">音频基础知识</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/zhongshijunacm/article/details/104799137?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-0&amp;spm=1001.2101.3001.4242">音频前处理基本概念</a></p>
<p><a target="_blank" rel="noopener" href="https://my.oschina.net/u/4324171/blog/3556108">音频相关基本概念，音频处理及编解码基本框架和原理以及音、重采样、3A等音频处理(了解概念为主)</a></p>
<h3 id="音频基础知识">0.0.1. 音频基础知识</h3><p>声音信号通常是一种连续的波形来表示。波形的最大位移称为振幅A，反应音量。波形中两个连续波峰（或波谷）之间的距离称为周期T。周期的倒数即为频率f，以赫兹（Hz）为单位。频率反应了声音的音调。</p>
<p>声音可按频率分为三类：</p>
<p>次声波：频率低于20Hz。<br>音频；频率在20-20kHz。<br>超声：频率高于20kHz。</p>
<p>音频（Audio）指频率在20Hz-20kHz范围内的可听声音，是多媒体信息中的一种媒体类型 - 可听类媒体。</p>
<p>目前多媒体计算机中的音频主要由波形音频、CD音频和MIDE音乐3种形式。重点应该是波形音频。</p>
<ol>
<li>波形音频</li>
</ol>
<p>波形音频是由外部声音源通过数字化过程采集到多媒体计算机的所有声音形式。语音是波形声音中人说话的声音，具有内在的语言学、语音学的内涵。多媒体计算机可以利用特殊的方法分析、研究、抽取语音的相关特征，实现对不同语音的分辨、识别以及通过文字合成语音波形等。</p>
<ol>
<li>CD音频</li>
</ol>
<p>CD音频（CD-Audio）是存储在音乐CD光盘中的数字音频，可以通过CD-ROM驱动器读取并采集到多媒体计算机系统中，并以波形音频的相应形式存储和处理。</p>
<ol>
<li>MIDI音频</li>
</ol>
<p>MIDI音频（musical instrument digital interface），它将音乐符号化并保存在MIDI文件中，通过因为合成器产生相应的声音波形来还原播放。</p>
<p>音频是时间的函数，具有很强的前后相关性，所以实时性是音频处理的基本要求。</p>
<h3 id="音频的数字化">0.0.2. 音频的数字化</h3><p>计算机处理音频信号前，必须将模拟的声音信号数字化，产生数字音频。具体过程包括采样、量化与编码。</p>
<ol>
<li>采样与采样频率</li>
</ol>
<p>采样就是每间隔一段时间读取一次声音信号幅度，使声音信号在时间上被离散化。</p>
<p>采样频率就是将模拟声音波形数字化时，每秒钟抽取声波幅度样本的次数，其计算单位是kHz（千赫兹）。一般来说，采样频率越高，声音失真越小，用于存储的数字音频的数据量也越大。</p>
<p>乃奎斯特(Nyquist)采样理论：采样频率不应低于声音信号最高频率的两倍。这样就能把以数字表达的声音还原成原来的声音。例如：电话话音的信号频率约为 3.4 kHz，采样频率一般选用 8 kHz。</p>
<p>音频抽样率有：8kHz、11.025kHz、22.05kHz、16kHz、37.8kHz、44.1kHz、48kHz。</p>
<ol>
<li>量化与量化位数</li>
</ol>
<p>量化就是把采样得到的信号幅度转化为数字值，是声音信号在幅度上被离散化。量化位数（位深）是每个采样点能够表示的数据范围，常用的有8位、12位和16位。图示一个：</p>
<ol>
<li>声道</li>
</ol>
<p>反映音频数字化质量的另一个因素是声道个数。记录音频时，如果每次生成一个声波的数据，称为单声道；每次记录两个声波数据，称为双声道（立体声）；每次生成二个以上的声波数据，称为多声道（环绕立体声）。</p>
<ol>
<li>音频采样的数据量</li>
</ol>
<p>数字音频的采样数据量主要取决两方面的因素：</p>
<p>音质因素：采样频率、量化位数和声道数三个参数决定。<br>时间：采样时间长短。</p>
<h3 id="音频的编码">0.0.3. 音频的编码</h3><p>音频数据压缩编码的方法有多种，可分为无损压缩和有损压缩两大类。无损压缩主要包含各种熵编码；有损压缩则分为波形编码、参数编码、感知编码和混合编码。</p>
<p>波形编码：模拟音频数字化（抽样和量化）的过程中，根据人耳的听觉特性进行编码，并使编码后的音频信号与原始信号的波形尽可能匹配，实现数据压缩。</p>
<p>PCM (Pulse Code Modulation)、脉冲编码调制。<br>DPCM (Differential Pulse Code Modulation)。<br>APCM (Adaptive Pulse Code Modulation)。<br>ADPCM (Adaptive Differential Pulse Code Modulation)。<br>参数编码：把音频信号表示成模型的输出，利用特征的方法抽取必要的模型参数和激励信号的信息，且对这些信息编码，最后在输出端合成原始信号。</p>
<h3 id="音频采集">0.0.4. 音频采集</h3><p>音频采集播放流程：采集-前处理（回声消除、噪声抑制、音量调节、混响处理等）-编码-传输-解码-后处理-播放</p>
<p>采样率：原始PCM数据每秒采样次数</p>
<p>比特率：编码压缩后的码率，每秒音频的大小。（所以在编码效果好的情况下也会有高采样率对应相对低的比特率）</p>
<p>PCM(Pulse Code Modulation)，脉冲编码调制。人耳听到的是模拟信号，PCM是把声音从模拟信号转化为数字信号的技术。原理是用一个固定的频率对模拟信号进行采样，采样后的信号在波形上看就像一串连续的幅值不一的脉冲(脉搏似的短暂起伏的电冲                         击)，把这些脉冲的幅值按一定精度进行量化，这些量化后的数值被连续的输出、传输、处理或记录到存储介质中，所有这些组成了数字音频的产生过程(抽样、量化、编码三个过程)。</p>
<h3 id="音频前、后处理">0.0.5. 音频前、后处理</h3><p>ES: Echo Suppresion</p>
<p>EES: Enhanced Echo Suppresion</p>
<p>AEC: Acoustic Echo Cancellation 声学回声消除。在一般的VOIP软件或视频会议系统中，假设我们只有A和B两个人在通话，首先，A的声音传给B，B然后用喇叭放出来，而这时B的MIC呢则会采集到喇叭放出来的声音，然后传回给A，如果这个传输的过程中时延足够大，A就会听到一个和自己刚才说过的话一样的声音，这就是回声，声学回声消除器的作用就是在B端对B采集到的声音进行处理，把采集到声音包含的A的声音去掉再传给A，这样，A就不会听到自己说过的话了。就是说，在B端，接收到A说的话以后，要把这些话音数据传给回声消除器做参考，然后再传给声卡，声卡再放出来，这有一段延时，这时，B再采集，然后传给回声消除器，与那个参考数据比较，从采集到的数据中把频域和参考数据相同的部分消除掉。</p>
<p>NS: Noise Suppression 噪音抑制</p>
<p>NLP: Nonlinear Procession 去除残留的回声和背景噪声</p>
<p>NC: Noise Control</p>
<p>NR: Noise Reduction 降噪</p>
<p>CC: Clarity Control 清晰度控制</p>
<p>VAD: Voice Activity Detection 静音检测。静音检测（VAD）将检测被编码的音频数据是语音还是静音或背景噪声</p>
<p>DRC: Dynamic Range Control</p>
<p>AGC: Automatic Gain Control 自动增益控制。不同的设备，录音效果会有较大幅度的变动，自动增益控制（AGC）就是用来处理这种现象的。它提供了一种调整信号为参考音量的方法。这对VOIP（voice over IP）是非常有用的，因为它不需要再手动去调整麦克风增益。第二个好处是，将麦克风增益设置为保守(低)级别，可有效避免削波。</p>
<p>VBR: Variable Bit-Rate</p>
<p>CBR: Constant Bit-Rate</p>
<p>ABR: Average bit-rate</p>
<p>DTX: Discontinuous Transmission 非连续传输。非连续性传输（DTX）是静音检测（VAD）/变比特率（VBR）操作的额外选项，它能够在背景噪声固定时，完全的停止传输。</p>
<p>CNG: Comfort Noise Generator 舒适噪音生成。在非变比特率的情况下，检测非语音周期并对用足够的比特数重新生成的背景噪声进行编码。这个叫“舒适噪声生成（CNG）”。</p>
<p>音频加速器（Audio Accelerator）：即音频处理单元，有些厂家又叫APU(Audio Processing Unit)，好比计算机机的cpu，决定着声卡的音频处理能力。完全意义上的音频加速器由DSP(Digital Singnal Processor)和I/O控制器构成。I/O控制器即是输入/输出控制器，针对声卡的输入/输出进行控制。如果说一块声卡没有DSP，而只是一块I/O卡（比如绝大多数主板上自带的AC97声卡）那它所有的数据处理就只有交由CPU来完成。这将意味着增加CPU的负担，和低下的性能。</p>
<p>Codec：Codec一词由Coder和Decoder两个英文词组合而成，表示为多媒体数字信号解码器，专门负责模拟信号到数字信号的转换（ADC）以及数字信号到模拟信号的转换（DAC）工作。计算机声卡处理的信号全是数字信号，而声卡接收到的或者最终输出的信号大部份是模拟信号。从外办输入的信号，如CD、话筒等必须经过a/d转换后才能由声卡进行处理，然后又经过d/a转换后最终送入杨声器，被我们的耳朵所听到。因此Codec的质量直接决定着进出声卡的信号质量。</p>
<p>声卡的工作流程：MIDI、数字输入、模拟输入等信号—&gt;通各种接口输入—&gt;由晶震产生采样频率给Codec进行模/数转换—&gt;交给DSP+I/O器进行信号处理和分配—&gt;再由DAC或Codec进行数/模转换—&gt;最后由放大电路放大—&gt;输出至模拟输出接口</p>
<p>AC97（Audio Codec 97）：一种规范。</p>
<p>Amplitude（增益/衰减）:对于一个音频信号进行放大（正增益），或者衰减（负增益），是DSP一个最基本的功能。而这些操作实质上就是对电流脉冲的增强和减小。在电路中，可以通过电阻实现这项功能。</p>
<p>Filter（滤波器）：滤波器也是DSP的基础功能，所谓滤波器，就是过滤掉符合特定条件的声音，比如常见的频率滤波器。常见的频率滤波器包括低通滤波器（Low pass filter），高通滤波器(High pass filter)，带通滤波器(band pass filter)等。他们都是用来过滤掉特定的频率，比如低通滤波器。<br>低通滤波器，顾名思义就是让低频信号通过，而其他信号则被过滤掉，一般音响系统中习惯使用低通滤波器分离出单独的超重低音通道来，从而组成X.1系统。<br>高通滤波器，就是允许高频信号通过，而将其他信号拒之门外。<br>带通滤波器比较有意思，它会让需要的频段顺利通过，而阻止不需要的频段。<br>陷波滤波器（band reject filter）像一个倒置的带通滤波器，它会阻止需要的频段，而让不需要的频段顺利通过。<br>滤波器对于DSP的重要意义在于能够分离出不同的频段，从而进行相关的操作。</p>
<p>震荡器：是一个产生波形的设备，它能够发出规则的或者循环的正弦波、方波、三角波和锯齿波。而这些波形拥有不同的用途，比如正弦波可以当作激励来使用。因此在音频数据中添加不同种类的波，就可以制造出各种绚丽的效果来，比如镶边等。</p>
<p>Delay（延时）：所谓的延时，就是沿着时间轴移动音频数据，从而使得声音听起来要延后一些，在DSP中实现这项功能也是非常简单的。</p>
<p>ADSR（音色包络）：震荡器产生波形后，如果不加以控制，则这些波形将会一直震荡下去，这当然不是我们需要的。因此，我们需要给波形加上起止的控制，这就是ADSR包络了。A代表Attack，指的是声音从开始发声到最大振幅的过程；D代表Decay，指的是声音从最大振幅开始衰减的一段；S指的是Sustain，指的是声音衰减到一定位置维持住的过程；R代表Release，指的是停止发声后到声音消失的过程。有了ADSR，我们就能够控制一个波形的起止位置，从而实现我们想要的效果。</p>
<p>Gate门限：Gate应该算是计算机算法中的逻辑术语了。所谓门，就是按照一定的条件处理数据，符合条件的在门的一边，不符合条件的在门的另一边。门在DSP中主要用作按照条件对音频数据进行分离。</p>
<p>EQ：被称为均衡(Equalizer)，是DSP必备的高档功能之一。EQ基本作用是通过对声音某一个或多个频段进行增益或衰减，达到调整音色的目的。当然，EQ还有一个显著的功能，降噪。因此对于声音的整体音色有着很大的影响。<br>EQ通过将声音中各频率的组成泛音等级加以修改，专为某一类音乐进行优化，增强人们的感觉。常见包括：正常、摇滚、流行、舞曲、古典、柔和、爵士、金属、重低音和自定义。<br>EQ通常包括如下参数：F(requency)，频率――这是用于设定你要进行调整的频率点用的参数；G(ain)，增益――用于调整在你设定好的F值上进行增益或衰减的参数；Q(uantize)――用于设定你要进行增益或衰减的频段“宽度”。要注意的一点是：当你设定的Q值越小的时候，你所处理的频段就越宽，而当你设定的Q值越大的时候，你所处理的频段就越窄。<br>从控制的方式来说，EQ有图形EQ和参量EQ两种。</p>
<p>SRC：就是Sample Rate Convertor采样频率转换器，intel AC’97规范约定了声卡需要经过这样一个处理过程，即将所有信号重新转换成一个统一的采样率输出。SRC如果进行了非整数倍的转换的话，比如44100-&gt;48000，会有较大的噪声或者谐波出现，这些噪声因转换器的质量高低、算法好坏而定，不优秀的算法会比较严重的影响听感。既然SRC是一个可能破坏音质的过程，为什么会有这么一个产物呢？前面就说过，AC’97是为了节省成本而订，SRC的结果可以为声卡省下一颗Crystal。SRC一般都通过软件运算转换，这样受驱动版本的影响非常之大，例如Live!系列，SRC品质最好的是Windows Server2003 自带的驱动，也有使用硬件SRC的，例如：CS4630音频加速器。硬件SRC的品质往往大大优于软件的SRC，SRC品质的好坏的重要性甚至比Codec的档次更重要。</p>
<p>Crystal：中文名就是石英晶体振荡器或者简称晶振。常见的声卡都支持44.1kHz和48kHz的信号输入。</p>
<h3 id="混音技术介绍">0.0.6. 混音技术介绍</h3><p>混音，顾名思义，就是把两路或者多路音频流混合在一起，形成一路音频流。而混流，则是指音视频流的混合，也就是视频画面和声音的对齐，也称混流。</p>
<p>并非任何两路音频流都可以直接混合。两路音视频流，必须符合以下条件才能混合：</p>
<ul>
<li>格式相同，要解压成 PCM 格式。</li>
<li>采样率相同，要转换成相同的采样率。主流采样率包括：16k Hz、32k Hz、44.1k Hz 和 48k Hz。</li>
<li>帧长相同，帧长由编码格式决定，PCM 没有帧长的概念，开发者自行决定帧长。为了和主流音频编码格式的帧长保持一致，推荐采用 20ms 为帧长。</li>
<li>位深（Bit-Depth）或采样格式 (Sample Format) 相同，承载每个采样点数据的 bit 数目要相同。</li>
<li>声道数相同，必须同样是单声道或者双声道 (立体声)。这样，把格式、采样率、帧长、位深和声道数对齐了以后，两个音频流就可以混合了。</li>
</ul>
<p>在混音之前，还需要做回声消除、噪音抑制和静音检测等处理。回声消除和噪音抑制属于语音前处理范畴的工作。在编码之前，采集、语音前处理、混音之前的处理、混音和混音之后的处理应该按顺序进行。静音抑制（VAD，Voice Activity Detect）可做可不做。对于终端混音，是要把采集到的主播声音和从音频文件中读到的伴奏声音混合。如果主播停顿一段时间不发出声音，通过 VAD 检测到了，那么这段时间不混音，直接采用伴奏音乐的数据就好了。然而，为了简单起见，也可以不做 VAD。主播不发声音的期间，继续做混音也可以（主播的声音为零振幅）</p>
<h3 id="音频重采样">0.0.7. 音频重采样</h3><p>音频系统中可能存在多个音轨，而每个音轨的原始采样率可能是不一致的。比如在播放音乐的过程中，来了一个提示音，就需要把音乐和提示音都混合到codec输出，音乐的原始采样率和提示音的原始采样率可能是不一致的。问题来了，如果codec的采样率设置为音乐的原始采样率的话，那么提示音就会失真。因此最简单见效的解决方法是：codec的采样率固定一个值（44.1KHz/48KHz），所有音轨都重采样到这个采样率，然后才送到codec，保证所有音轨听起来都不失真。</p>
<p>重采样即是将音频进行重新采样得到新的采样率的音频。</p>
<h3 id="音频3A处理">0.0.8. 音频3A处理</h3><p>音频3A处理在不同的应用场景三者的处理顺序也不同，如在WebRTC中音频数据回依次经过AEC和NS（noise suppression） 或者 NS 与AECM（AECM 是WebRTC专门为移动端打造的算法，计算量低，而AEC 是为PC打造的）。而在AEC(回声消除算法)，为什么需要这个算法呢？当一个设备在播放声音经过空间中的多次反射会被麦克风再次捕捉并采集到系统当中，这时音频的输入既有空间反射的回声也有本端说话声，如果缺少此模块就意味着通话中说话人一直可以听到自己的声音回来，这是非常差的一种体验，这当然是需要我们避免的。这里AEC的作用就是通过播放的参考信号跟踪出回声并从采集信号中把回声消除掉，随后再经过降噪处理去除噪声。而其中的AECM是在NS模块之后通过获取clean与noise数据进行分析，AEC则是NS模块之前直接获取noise数据进行分析。</p>
<p>音频数据完成AEC与NS的处理后会进行AGC处理，其包括AAGC（模拟域的自动增益控制）与DAGC（数字域的自动增益控制）。其中AAGC的主要作用是通过系统的采集音量设置接口调整输入信号（大多用于PC端，移动端一般没有输入音量的系统接口），如借助Windows上的的API调整采集音量等参数。AAGC可为输入的音频数据带来明显的质量优化，如提高信噪比，避免输入信号溢出等。但由于我们服务的跨平台要求，我们需要构建一个面向多平台设备的框架，在不同的输入平台和设备都会有不同的输入音量，DAGC可以根据对输入信号的跟踪，尽量的调整信号到达期望大小(幅值或能量)，从而避免不同设备采集带来的音量差异过大。完成AGC处理的音频数据，即可进入Audio Encode进行编码操作。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
  
  




      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/27/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E7%99%BD%E5%A4%9C%E8%A1%8Cby%E4%B8%9C%E9%87%8E%E5%9C%AD%E5%90%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="odcowl">
      <meta itemprop="description" content="wechat odcowl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="odcowl的个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/27/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E7%99%BD%E5%A4%9C%E8%A1%8Cby%E4%B8%9C%E9%87%8E%E5%9C%AD%E5%90%BE/" class="post-title-link" itemprop="url">读书笔记 白夜行by东野圭吾</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-05-27 15:50:07 / 修改时间：22:15:22" itemprop="dateCreated datePublished" datetime="2021-05-27T15:50:07+08:00">2021-05-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2021%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">2021读书笔记</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <img src="/2021/05/27/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E7%99%BD%E5%A4%9C%E8%A1%8Cby%E4%B8%9C%E9%87%8E%E5%9C%AD%E5%90%BE/fengmian.jpeg" class>
<p>继续读闲书…</p>
<p>上次读完湖泊后，对日本悬疑类小说名家东野圭吾的作品继续产生兴趣，于是就读了这本《白夜行》。</p>
<p>先说结尾，我还是不太习惯于戛然而止式的结尾😅总觉得坏人应该得到无论是法律上还是心灵上的惩罚，好人应该有好的结局。</p>
<p>亮跳下去后背过身的雪穗是真的有失控吗？</p>
<p>R&amp;Y的未来如何？</p>
<p>警官是否心满意足的找到了真正的罪犯？</p>
<p>也有可能这大片的留白是作者留下的想象空间，只可惜我这种凡人想象不到罢了。</p>
<hr>
<p>故事开始于大人的罪恶，小孩子无法选择的命运。</p>
<p>恶之花在废弃的大楼里流着泪生长，压抑又复杂的小孩子间惺惺相惜、共生的情感，最终造就了所有阳光下的罪恶。</p>
<blockquote>
<p> 我的天空里没有太阳，总是黑夜，但并不暗，因为有东西代替了太阳。虽然没有太阳那么明亮，但对我来说已经足够。凭借着这份光，我便能把黑夜当成白天。我从来就没有太阳，所以不怕失去。</p>
</blockquote>
<p>我觉得亮心里有一丝愧疚，他认为是自己的责任要去守护雪穗。</p>
<p>这是一种复杂的情感。自己的父亲是变态，自己喜爱的女生惨遭毒手。所以他要成为代替太阳的守护者，他要保护心里的花朵，即便这朵花早已变质。</p>
<blockquote>
<p>只希望能手牵手在太阳下散步</p>
</blockquote>
<p>对于我来说，这早就不是雪穗的想法。</p>
<p>一个人越来越靠近阳光，一个人只能向蝼蚁般藏匿地下。</p>
<blockquote>
<p>美佳差点惊呼失声，雪穗伸出食指抵住她的唇。</p>
<p>“那时，我比现在的你更小，真的还是孩子。但是，恶魔不会因为你是孩子就放过你。而且，恶魔还不止一个。”</p>
<p>“不……”美佳喃喃地说，却发不出声音。</p>
<p>“现在的你，就是那时的我。”雪穗压在美佳身上，双手抱住美佳的头，“真可怜。 »</p>
</blockquote>
<p>应该是全文里我看的最有生理性反感的部分吧。</p>
<p>因为曾经见过黑暗，所以要把所有美好的人脱向黑暗。</p>
<p>所有和雪穗有关系的人最后都没有落得好的结局，而这些人都很善良。</p>
<blockquote>
<p>雪穗像人偶般面无表情。她冰冷地回答：“我不知道。雇用临时工都由店长全权负责。 </p>
</blockquote>
<p>最终亮带着那把杀死父亲的小剪刀，一跃而下。</p>
<p>在大阪店的开业典礼上，所有的纸醉金迷，截然而止。</p>
<p>我不由地问，笹垣真的可以捉拿雪穗吗？</p>
<p>为什么要给这样子的人留下一条生路了？这大概是我还没有读懂作者的一点。</p>
<hr>
<p>打算停下来阅读悬疑类别的小说，准备准备刷题啦❤️</p>
<ul>
<li>想要自救</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
  
  




      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/23/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E6%B9%96%E6%B3%8Aby%E4%B8%9C%E9%87%8E%E5%9C%AD%E5%90%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="odcowl">
      <meta itemprop="description" content="wechat odcowl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="odcowl的个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/23/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E6%B9%96%E6%B3%8Aby%E4%B8%9C%E9%87%8E%E5%9C%AD%E5%90%BE/" class="post-title-link" itemprop="url">读书笔记 湖泊by东野圭吾</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-23 19:25:35" itemprop="dateCreated datePublished" datetime="2021-05-23T19:25:35+08:00">2021-05-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-24 01:54:24" itemprop="dateModified" datetime="2021-05-24T01:54:24+08:00">2021-05-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2021%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">2021读书笔记</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <img src="/2021/05/23/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E6%B9%96%E6%B3%8Aby%E4%B8%9C%E9%87%8E%E5%9C%AD%E5%90%BE/fengmian.jpeg" class>
<blockquote>
<p>尸体要在湖底消失需要好几年，不，大概要花好几十年吧。这中间我们肯定都会提心吊胆的。就算尸体不见了，我们的灵魂也无法离开这湖畔吧。</p>
</blockquote>
<p>很搞笑的一件事是，我是从凌晨2点开始阅读这本书的，在5点前阅读完，期间伴随着窗对面法国年轻人soirée的欢呼声和音乐声。这一帮聚会的人，平时我肯定辗转难眠骂骂咧咧，这次却让我没有在读书的时候背脊发凉…</p>
<p>早就听闻东野圭吾的小说很精彩，这次果然感受到了其小说的魅力！</p>
<p>诸多的犯罪和真相细节在专业的文评里可以找到，博客里我只想简单记录每次阅读后的感悟和心情。</p>
<blockquote>
<p>尸体要在湖底消失需要好几年，不，大概要花好几十年吧。这中间我们肯定都会提心吊胆的。就算尸体不见了，我们的灵魂也无法离开这湖畔吧。</p>
</blockquote>
<p>小时候不懂得谎言的代价，用谎言换取奖励，用谎言逃避责罚。谎言的层次感也是长大后才明白，何为善意的谎言，何为恶意的谎言。</p>
<p>但每当不真诚的话说出口，总会担心着需要怎么把谎言说的更真，更让听者信服，不知不觉的又加重了语言上的负担感。久而久之，宁愿不去编造所谓的善意谎言，也不想说出不真诚的话。</p>
<p>一个谎言需要千千万万个谎言来圆谎。</p>
<blockquote>
<p>你是说有的母亲为了招待老师，不惜牺牲自己的肉体吗？</p>
</blockquote>
<p>读到这里心中最是沉重。千千万万的亚洲家长们（大部分的情况），为了孩子的学业，没有自己的生活，一掷千金还算好的，需要出卖自己的灵魂去谄媚，甚至出卖自己的肉体。</p>
<p>但我一直觉得很奇怪的是，真的会有人如此“饥渴”？</p>
<p>总而言之，坐在某种握着某种权利的位置上，再处于某种社会环境中，人就会变。</p>
<p>可怜天下父母心。</p>
<blockquote>
<p>“嗯，回去的时候，你会跟我和妈妈一起吧？不是各走各路的吧？“ 章太。</p>
</blockquote>
<p>孩子的内心需要保护，看起来再冷漠顽固的小孩子，心里的渴望或许就那么简单。</p>
<p>每个人心里都有那个自己认为的凶手，作者也似乎刻意给每个小孩子安排了合适的动机。悬疑未解，但已经不重要了。</p>
<p>父母的结合究竟对孩子有那么重要吗？其实我觉得并不是。父母如果能做到互相关心、爱护，那一定是最完美的家庭，但假如不呢？</p>
<p>我认为最重要的是父母之间的互相尊重，而不是单独在孩子面前指责不在场的另一半。</p>
<p>对于孩子来说，从小就要面临站哪一边的选择。</p>
<p>在俊介来到别墅前，美菜子跟所有人吐槽俊介的行为，章太也是看在眼里吧。即便不是血亲，父亲依然是章太的心里另一半天，作为母亲不应该试图把这一片天抹黑。</p>
<p>与其互相的指责，不如坐下来心平气和的告诉孩子：我们的爱情或许结束了，但我们还可以拥有亲情。</p>
<p>小孩子根本不懂得爱的差别，只有大人才斤斤计较。</p>
<p>——————</p>
<p>接下来还想阅读东野圭吾的其他作品。</p>
<p>2021.05.23</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>

  
  
  





  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="odcowl"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">odcowl</p>
  <div class="site-description" itemprop="description">wechat odcowl</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">34</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/odcowl" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;odcowl" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/odcowl" title="Wechat → odcowl"><i class="fab fa-weixin fa-fw"></i>Wechat</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2021-2 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">odcowl</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共32.3k字</span>
</div>

        








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
